{
	"info": {
		"_postman_id": "c5d23397-d93e-43f5-81ed-ad3d8b059ade",
		"name": "MPI FHIR examples",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
		"_exporter_id": "5159090"
	},
	"item": [
		{
			"name": "1. Patient",
			"item": [
				{
					"name": "1.1 Create patient",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"pm.environment.set(\"FAKE_EST_ID\", _.random(30000000000, 600000000000))"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"resourceType\": \"Patient\",\n  \"meta\": {\n    \"profile\": [\n      \"https://fhir.ee/StructureDefinition/ee-mpi-patient-verified\"\n    ]\n  },\n  \"text\": {\n    \"status\": \"generated\",\n    \"div\": \"<div xmlns=\\\"http://www.w3.org/1999/xhtml\\\">text</div>\"\n  },\n  \"identifier\": [\n    {\n      \"system\": \"https://fhir.ee/sid/pid/est/ni\",\n      \"value\": \"{{FAKE_EST_ID}}\"\n    }\n  ],\n  \"active\": true,\n  \"name\": [\n    {\n      \"use\": \"official\",\n      \"family\": \"V천sa체lane\",\n      \"given\": [\n        \"Tiit\"\n      ]\n    }\n  ],\n  \"telecom\": [\n    {\n      \"system\": \"phone\",\n      \"value\": \"+37253535353\",\n      \"use\": \"work\",\n      \"rank\": 1\n    }\n  ],\n  \"gender\": \"male\",\n  \"birthDate\": \"1974-12-25\",\n  \"_birthDate\": {\n    \"extension\": [\n      {\n        \"url\": \"http://hl7.org/fhir/StructureDefinition/patient-birthTime\",\n        \"valueDateTime\": \"1974-12-25T14:35:45-05:00\"\n      }\n    ]\n  },\n  \"deceasedDateTime\": \"2003-12-25T14:35:45-05:00\",\n  \"address\": [\n    {\n      \"extension\": [\n        {\n          \"url\": \"https://fhir.ee/StructureDefinition/ee-ads\",\n          \"valueCoding\": {\n            \"system\": \"https://fhir.ee/CodeSystem/ee-ads\",\n            \"code\": \"111122\"\n          }\n        },\n        {\n          \"url\": \"https://fhir.ee/StructureDefinition/ee-ehak\",\n          \"valueCoding\": {\n            \"system\": \"https://fhir.ee/sid/ehak\",\n            \"code\": \"100300\"\n          }\n        }\n      ],\n      \"use\": \"home\",\n      \"type\": \"both\",\n      \"text\": \"534 Erewhon St PeasantVille, Rainbow, Vic  3999\",\n      \"line\": [\n        \"534 Erewhon St\"\n      ],\n      \"_line\": [\n        {\n          \"extension\": [\n            {\n              \"url\": \"http://hl7.org/fhir/StructureDefinition/iso21090-ADXP-streetName\",\n              \"valueString\": \"Erewhon St\"\n            },\n            {\n              \"url\": \"http://hl7.org/fhir/StructureDefinition/iso21090-ADXP-houseNumber\",\n              \"valueString\": \"534\"\n            },\n            {\n              \"url\": \"http://hl7.org/fhir/StructureDefinition/iso21090-ADXP-additionalLocator\",\n              \"valueString\": \"110\"\n            }\n          ]\n        }\n      ],\n      \"country\": \"US\",\n      \"city\": \"PleasantVille\",\n      \"district\": \"Rainbow\",\n      \"state\": \"Vic\",\n      \"postalCode\": \"3999\",\n      \"period\": {\n        \"start\": \"1974-12-25\"\n      }\n    }\n  ]\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{HOST}}/Patient",
							"host": [
								"{{HOST}}"
							],
							"path": [
								"Patient"
							]
						}
					},
					"response": []
				},
				{
					"name": "1.2 Load Patient",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{HOST}}/Patient/16",
							"host": [
								"{{HOST}}"
							],
							"path": [
								"Patient",
								"16"
							]
						}
					},
					"response": []
				},
				{
					"name": "1.3 Search Patient",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{HOST}}/Patient?identifier=https%3A%2F%2Ffhir.ee%2Fsid%2Fpid%2Fest%2Fni%7C38912072255",
							"host": [
								"{{HOST}}"
							],
							"path": [
								"Patient"
							],
							"query": [
								{
									"key": "identifier",
									"value": "https%3A%2F%2Ffhir.ee%2Fsid%2Fpid%2Fest%2Fni%7C38912072255"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "1.4 Update patient",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"pm.environment.set(\"FAKE_EST_ID\", _.random(30000000000, 600000000000))"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "PUT",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"resourceType\": \"Patient\",\n  \"id\": \"8\",\n  \"meta\": {\n    \"profile\": [\n      \"https://fhir.ee/StructureDefinition/ee-mpi-patient-verified\"\n    ]\n  },\n  \"text\": {\n    \"status\": \"generated\",\n    \"div\": \"<div xmlns=\\\"http://www.w3.org/1999/xhtml\\\">text</div>\"\n  },\n  \"identifier\": [\n    {\n      \"system\": \"https://fhir.ee/sid/pid/est/ni\",\n      \"value\": \"281969554708\"\n    }\n  ],\n  \"active\": true,\n  \"name\": [\n    {\n      \"use\": \"official\",\n      \"family\": \"Tamm\",\n      \"given\": [\n        \"Tiit\"\n      ]\n    }\n  ],\n\n  \"gender\": \"male\",\n  \"birthDate\": \"1974-12-25\",\n  \"_birthDate\": {\n    \"extension\": [\n      {\n        \"url\": \"http://hl7.org/fhir/StructureDefinition/patient-birthTime\",\n        \"valueDateTime\": \"1974-12-25T14:35:45-05:00\"\n      }\n    ]\n  },\n  \"deceasedDateTime\": \"2003-12-25T14:35:45-05:00\",\n  \"address\": [\n    {\n      \"extension\": [\n        {\n          \"url\": \"https://fhir.ee/StructureDefinition/ee-ads\",\n          \"valueCoding\": {\n            \"system\": \"https://fhir.ee/CodeSystem/ee-ads\",\n            \"code\": \"111122\"\n          }\n        },\n        {\n          \"url\": \"https://fhir.ee/StructureDefinition/ee-ehak\",\n          \"valueCoding\": {\n            \"system\": \"https://fhir.ee/sid/ehak\",\n            \"code\": \"100300\"\n          }\n        }\n      ],\n      \"country\": \"US\",\n      \"use\": \"home\",\n      \"type\": \"both\",\n      \"text\": \"534 Erewhon St PeasantVille, Rainbow, Vic  3999\",\n      \"line\": [\n        \"534 Erewhon St\"\n      ],\n      \"_line\": [\n        {\n          \"extension\": [\n            {\n              \"url\": \"http://hl7.org/fhir/StructureDefinition/iso21090-ADXP-streetName\",\n              \"valueString\": \"Erewhon St\"\n            },\n            {\n              \"url\": \"http://hl7.org/fhir/StructureDefinition/iso21090-ADXP-houseNumber\",\n              \"valueString\": \"534\"\n            },\n            {\n              \"url\": \"http://hl7.org/fhir/StructureDefinition/iso21090-ADXP-additionalLocator\",\n              \"valueString\": \"110\"\n            }\n          ]\n        }\n      ],\n      \"city\": \"PleasantVille\",\n      \"district\": \"Rainbow\",\n      \"state\": \"Vic\",\n      \"postalCode\": \"3999\",\n      \"period\": {\n        \"start\": \"1974-12-25\"\n      }\n    }\n  ]\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{HOST}}/Patient/9615",
							"host": [
								"{{HOST}}"
							],
							"path": [
								"Patient",
								"9615"
							]
						}
					},
					"response": []
				},
				{
					"name": "1.5 Patient history",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{HOST}}/Patient/9615/_history",
							"host": [
								"{{HOST}}"
							],
							"path": [
								"Patient",
								"9615",
								"_history"
							]
						}
					},
					"response": []
				},
				{
					"name": "1.6 All Patient history",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{HOST}}/Patient/_history?_since=2023-03-31&_count=10",
							"host": [
								"{{HOST}}"
							],
							"path": [
								"Patient",
								"_history"
							],
							"query": [
								{
									"key": "_since",
									"value": "2023-03-31"
								},
								{
									"key": "_count",
									"value": "10"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "1.7 Create patient, existing est-id - FAIL",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"pm.environment.set(\"FAKE_EST_ID\", _.random(30000000000, 600000000000))"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"resourceType\": \"Patient\",\n  \"meta\": {\n    \"profile\": [\n      \"https://fhir.ee/StructureDefinition/ee-mpi-patient-verified\"\n    ]\n  },\n  \"text\": {\n    \"status\": \"generated\",\n    \"div\": \"<div xmlns=\\\"http://www.w3.org/1999/xhtml\\\">text</div>\"\n  },\n  \"identifier\": [\n    {\n      \"system\": \"https://fhir.ee/sid/pid/est/ni\",\n      \"value\": \"480131157982\"\n    }\n  ],\n  \"active\": true,\n  \"name\": [\n    {\n      \"use\": \"official\",\n      \"family\": \"V천sa체lane\",\n      \"given\": [\n        \"Tiit\"\n      ]\n    }\n  ],\n  \"telecom\": [\n    {\n      \"system\": \"phone\",\n      \"value\": \"+37253535353\",\n      \"use\": \"work\",\n      \"rank\": 1\n    }\n  ],\n  \"gender\": \"male\",\n  \"birthDate\": \"1974-12-25\",\n  \"_birthDate\": {\n    \"extension\": [\n      {\n        \"url\": \"http://hl7.org/fhir/StructureDefinition/patient-birthTime\",\n        \"valueDateTime\": \"1974-12-25T14:35:45-05:00\"\n      }\n    ]\n  },\n  \"deceasedDateTime\": \"2003-12-25T14:35:45-05:00\",\n  \"address\": [\n    {\n      \"extension\": [\n        {\n          \"url\": \"https://fhir.ee/StructureDefinition/ee-ads\",\n          \"valueCoding\": {\n            \"system\": \"https://fhir.ee/CodeSystem/ee-ads\",\n            \"code\": \"111122\"\n          }\n        },\n        {\n          \"url\": \"https://fhir.ee/StructureDefinition/ee-ehak\",\n          \"valueCoding\": {\n            \"system\": \"https://fhir.ee/sid/ehak\",\n            \"code\": \"100300\"\n          }\n        }\n      ],\n      \"country\": \"US\",\n      \"use\": \"home\",\n      \"type\": \"both\",\n      \"text\": \"534 Erewhon St PeasantVille, Rainbow, Vic  3999\",\n      \"line\": [\n        \"534 Erewhon St\"\n      ],\n      \"_line\": [\n        {\n          \"extension\": [\n            {\n              \"url\": \"http://hl7.org/fhir/StructureDefinition/iso21090-ADXP-streetName\",\n              \"valueString\": \"Erewhon St\"\n            },\n            {\n              \"url\": \"http://hl7.org/fhir/StructureDefinition/iso21090-ADXP-houseNumber\",\n              \"valueString\": \"534\"\n            },\n            {\n              \"url\": \"http://hl7.org/fhir/StructureDefinition/iso21090-ADXP-additionalLocator\",\n              \"valueString\": \"110\"\n            }\n          ]\n        }\n      ],\n      \"city\": \"PleasantVille\",\n      \"district\": \"Rainbow\",\n      \"state\": \"Vic\",\n      \"postalCode\": \"3999\",\n      \"period\": {\n        \"start\": \"1974-12-25\"\n      }\n    }\n  ]\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{HOST}}/Patient",
							"host": [
								"{{HOST}}"
							],
							"path": [
								"Patient"
							]
						}
					},
					"response": []
				},
				{
					"name": "1.8 Create patient, wrong profile - FAIL",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"pm.environment.set(\"FAKE_EST_ID\", _.random(30000000000, 600000000000))"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"resourceType\": \"Patient\",\n  \"meta\": {\n    \"profile\": [\n      \"https://not-existing.profile/123\"\n    ]\n  },\n  \"text\": {\n    \"status\": \"generated\",\n    \"div\": \"<div xmlns=\\\"http://www.w3.org/1999/xhtml\\\">text</div>\"\n  },\n  \"identifier\": [\n    {\n      \"system\": \"https://hl7.ee/NamingSystem/ee-pid-id\",\n      \"value\": \"436349500105\"\n    }\n  ],\n  \"active\": true,\n  \"name\": [\n    {\n      \"use\": \"official\",\n      \"family\": \"V천sa체lane\",\n      \"given\": [\n        \"Tiit\",\n        \"Priit\"\n      ]\n    }\n  ],\n  \"telecom\": [\n    {\n      \"system\": \"phone\",\n      \"value\": \"+37253535353\",\n      \"use\": \"work\",\n      \"rank\": 1\n    }\n  ],\n  \"gender\": \"male\",\n  \"birthDate\": \"1974-12-25\",\n  \"_birthDate\": {\n    \"extension\": [\n      {\n        \"url\": \"http://hl7.org/fhir/StructureDefinition/patient-birthTime\",\n        \"valueDateTime\": \"1974-12-25T14:35:45-05:00\"\n      }\n    ]\n  },\n  \"deceasedDateTime\": \"2003-12-25T14:35:45-05:00\",\n  \"address\": [\n    {\n      \"extension\": [\n        {\n          \"url\": \"https://fhir.ee/StructureDefinition/ee-ads\",\n          \"valueCoding\": {\n            \"system\": \"https://fhir.ee/CodeSystem/ee-ads\",\n            \"code\": \"111122\"\n          }\n        },\n        {\n          \"url\": \"https://fhir.ee/StructureDefinition/ee-ehak\",\n          \"valueCoding\": {\n            \"system\": \"https://fhir.ee/sid/ehak\",\n            \"code\": \"100300\"\n          }\n        }\n      ],\n      \"country\": \"US\",\n      \"use\": \"home\",\n      \"type\": \"both\",\n      \"text\": \"534 Erewhon St PeasantVille, Rainbow, Vic  3999\",\n      \"line\": [\n        \"534 Erewhon St\"\n      ],\n      \"_line\": [\n        {\n          \"extension\": [\n            {\n              \"url\": \"http://hl7.org/fhir/StructureDefinition/iso21090-ADXP-streetName\",\n              \"valueString\": \"Erewhon St\"\n            },\n            {\n              \"url\": \"http://hl7.org/fhir/StructureDefinition/iso21090-ADXP-houseNumber\",\n              \"valueString\": \"534\"\n            },\n            {\n              \"url\": \"http://hl7.org/fhir/StructureDefinition/iso21090-ADXP-additionalLocator\",\n              \"valueString\": \"110\"\n            }\n          ]\n        }\n      ],\n      \"city\": \"PleasantVille\",\n      \"district\": \"Rainbow\",\n      \"state\": \"Vic\",\n      \"postalCode\": \"3999\",\n      \"period\": {\n        \"start\": \"1974-12-25\"\n      }\n    }\n  ]\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{HOST}}/Patient",
							"host": [
								"{{HOST}}"
							],
							"path": [
								"Patient"
							]
						}
					},
					"response": []
				},
				{
					"name": "1.9 Create unknown patient",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"pm.environment.set(\"FAKE_ID\", _.random(30000000000, 600000000000))"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"resourceType\": \"Patient\",\n    \"id\": \"pat-unk\",\n    \"meta\": {\n        \"profile\": [\n            \"https://fhir.ee/StructureDefinition/ee-mpi-patient-unknown\"\n        ]\n    },\n    \"text\": {\n        \"status\": \"generated\",\n        \"div\": \"<div xmlns=\\\"http://www.w3.org/1999/xhtml\\\"><p style=\\\"border: 1px #661aff solid; background-color: #e6e6ff; padding: 10px;\\\"><b>Malle Maasikas(NICKNAME)</b> male, DoB: 1973-02-10 ( id:\\u00a03456346)</p><hr/><table class=\\\"grid\\\"><tr><td style=\\\"background-color: #f3f5da\\\" title=\\\"Record is active\\\">Active:</td><td colspan=\\\"3\\\">false</td></tr><tr><td style=\\\"background-color: #f3f5da\\\" title=\\\"Ways to contact the Patient\\\">Contact Detail:</td><td colspan=\\\"3\\\">Valukoja 10, Tallinn(TEMP)</td></tr></table></div>\"\n    },\n    \"identifier\": [\n        {\n            \"system\": \"https://fhir.ee/sid/pid/est/mr\",\n            \"value\": \"3456346\"\n        }\n    ],\n    \"active\": false,\n    \"name\": [\n        {\n            \"use\": \"nickname\",\n            \"text\": \"Malle Maasikas\"\n        }\n    ],\n    \"gender\": \"male\",\n    \"birthDate\": \"1973-02-10\",\n    \"_birthDate\": {\n        \"extension\": [\n            {\n                \"url\": \"https://fhir.ee/StructureDefinition/ee-date-accuracy-indicator\",\n                \"valueCoding\": {\n                    \"system\": \"https://fhir.ee/CodeSystem/ee-date-accuracy-indicator\",\n                    \"code\": \"AAA\",\n                    \"display\": \"Day, month and year are accurate\"\n                }\n            }\n        ]\n    },\n    \"address\": [\n        {\n            \"extension\": [\n                {\n                    \"url\": \"https://fhir.ee/StructureDefinition/ee-ads\",\n                    \"valueCoding\": {\n                        \"system\": \"https://fhir.ee/CodeSystem/ee-ads\",\n                        \"code\": \"2280361\"\n                    }\n                }\n            ],\n            \"use\": \"temp\",\n            \"text\": \"Valukoja 10, Tallinn\",\n            \"country\": \"EE\"\n        }\n    ]\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{HOST}}/Patient",
							"host": [
								"{{HOST}}"
							],
							"path": [
								"Patient"
							]
						}
					},
					"response": []
				},
				{
					"name": "1.10 Link patients",
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"resourceType\": \"Parameters\",\n    \"id\": \"example\",\n    \"parameter\": [\n        {\n            \"name\": \"source-patient\",\n            \"valueReference\": {\n                \"reference\": \"Patient/9625\"\n            }\n        },\n        {\n            \"name\": \"target-patient\",\n            \"valueReference\": {\n                \"reference\": \"Patient/9615\"\n            }\n        }\n    ]\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{HOST}}/Patient/$link",
							"host": [
								"{{HOST}}"
							],
							"path": [
								"Patient",
								"$link"
							]
						}
					},
					"response": []
				},
				{
					"name": "1.11 Unlink patients",
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"resourceType\": \"Parameters\",\n    \"id\": \"example\",\n    \"parameter\": [\n        {\n            \"name\": \"source-patient\",\n            \"valueReference\": {\n                \"reference\": \"Patient/9615\"\n            }\n        },\n        {\n            \"name\": \"target-patient\",\n            \"valueReference\": {\n                \"reference\": \"Patient/9625\"\n            }\n        }\n    ]\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{HOST}}/Patient/$unlink",
							"host": [
								"{{HOST}}"
							],
							"path": [
								"Patient",
								"$unlink"
							]
						}
					},
					"response": []
				},
				{
					"name": "1.12 Create foreign patient",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"pm.environment.set(\"FAKE_ID\", _.random(30000000000, 600000000000))"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"resourceType\": \"Patient\",\n    \"meta\": {\n        \"profile\": [\n            \"https://fhir.ee/StructureDefinition/ee-mpi-patient-verified\"\n        ]\n    },\n    \"text\": {\n        \"status\": \"generated\",\n        \"div\": \"<div xmlns=\\\"http://www.w3.org/1999/xhtml\\\">text</div>\"\n    },\n    \"identifier\": [\n        {\n            \"system\": \"https://fhir.ee/sid/pid/uzb/ppn\",\n            \"value\": \"{{FAKE_ID}}\"\n        }\n    ],\n    \"active\": true,\n    \"name\": [\n        {\n            \"use\": \"official\",\n            \"family\": \"Smith\",\n            \"given\": [\n                \"Will\"\n            ]\n        }\n    ],\n    \"telecom\": [\n        {\n            \"system\": \"phone\",\n            \"value\": \"+1234567\"\n        }\n    ],\n    \"gender\": \"male\",\n    \"birthDate\": \"1979-12-25\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{HOST}}/Patient",
							"host": [
								"{{HOST}}"
							],
							"path": [
								"Patient"
							]
						}
					},
					"response": []
				},
				{
					"name": "1.13 Search Foreign Patient",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{HOST}}/Patient/$foreign?family=smith&given=wi&gender=male&birthdate=1979-12-25",
							"host": [
								"{{HOST}}"
							],
							"path": [
								"Patient",
								"$foreign"
							],
							"query": [
								{
									"key": "family",
									"value": "smith"
								},
								{
									"key": "given",
									"value": "wi"
								},
								{
									"key": "telecom",
									"value": "+1234567",
									"disabled": true
								},
								{
									"key": "gender",
									"value": "male"
								},
								{
									"key": "birthdate",
									"value": "1979-12-25"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "1.14 Patient lookup",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "x-road-userid",
								"value": "EE38912072255",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{HOST}}/Patient/$lookup?identifier.value=38701010019&source=https://rahvastikuregister.ee",
							"host": [
								"{{HOST}}"
							],
							"path": [
								"Patient",
								"$lookup"
							],
							"query": [
								{
									"key": "identifier.value",
									"value": "38701010019"
								},
								{
									"key": "source",
									"value": "https://mpi.tehik.ee",
									"disabled": true
								},
								{
									"key": "source",
									"value": "https://rahvastikuregister.ee"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "1.15 Patient generate MRN",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "x-road-userid",
								"value": "EE38912072255",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{HOST}}/Patient/$mrn",
							"host": [
								"{{HOST}}"
							],
							"path": [
								"Patient",
								"$mrn"
							]
						}
					},
					"response": []
				},
				{
					"name": "1.16 Create newborn patient",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"pm.environment.set(\"FAKE_ID\", _.random(30000000000, 600000000000))"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"resourceType\": \"Patient\",\n    \"id\": \"pat-newborn\",\n    \"meta\": {\n        \"profile\": [\n            \"https://fhir.ee/StructureDefinition/ee-mpi-patient-newborn\"\n        ]\n    },\n    \"text\": {\n        \"status\": \"generated\",\n        \"div\": \"<div xmlns=\\\"http://www.w3.org/1999/xhtml\\\"><p style=\\\"border: 1px #661aff solid; background-color: #e6e6ff; padding: 10px;\\\"><b>Maasikas (TEMP)</b> male, DoB: 2007-12-12 ( id:\\u00a050712121111)</p><hr/><table class=\\\"grid\\\"><tr><td style=\\\"background-color: #f3f5da\\\" title=\\\"Record is active\\\">Active:</td><td>true</td><td style=\\\"background-color: #f3f5da\\\" title=\\\"Known multipleBirth status of Patient\\\">Multiple Birth:</td><td colspan=\\\"3\\\">1</td></tr></table></div>\"\n    },\n    \"identifier\": [\n        {\n            \"system\": \"https://fhir.ee/sid/pid/est/ni\",\n            \"value\": \"50712121111\"\n        }\n    ],\n    \"active\": true,\n    \"name\": [\n        {\n            \"use\": \"temp\",\n            \"family\": \"Maasikas\"\n        }\n    ],\n    \"gender\": \"male\",\n    \"birthDate\": \"2007-12-12\",\n    \"multipleBirthInteger\": 1\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{HOST}}/Patient",
							"host": [
								"{{HOST}}"
							],
							"path": [
								"Patient"
							]
						}
					},
					"response": []
				},
				{
					"name": "1.17 Create stillborn patient",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"pm.environment.set(\"FAKE_ID\", _.random(30000000000, 600000000000))"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"resourceType\" : \"Patient\",\n  \"id\" : \"pat-stillborn\",\n  \"meta\" : {\n    \"profile\" : [\n      \"https://fhir.ee/StructureDefinition/ee-mpi-patient-stillborn\"\n    ]\n  },\n  \"text\" : {\n    \"status\" : \"generated\",\n    \"div\" : \"<div xmlns=\\\"http://www.w3.org/1999/xhtml\\\"><p style=\\\"border: 1px #661aff solid; background-color: #e6e6ff; padding: 10px;\\\"><b>Anonymous Patient</b> female, DoB: 2007-12-12 ( id:\\u00a060712121111)</p><hr/><table class=\\\"grid\\\"><tr><td style=\\\"background-color: #f3f5da\\\" title=\\\"Record is active\\\">Active:</td><td>false</td><td style=\\\"background-color: #f3f5da\\\" title=\\\"Known status of Patient\\\">Deceased:</td><td>2007-12-12 16:00:00+0000</td></tr><tr><td style=\\\"background-color: #f3f5da\\\" title=\\\"Known multipleBirth status of Patient\\\">Multiple Birth:</td><td colspan=\\\"3\\\">1</td></tr><tr><td style=\\\"background-color: #f3f5da\\\" title=\\\"Other Ids (see the one above)\\\">Other Id:</td><td colspan=\\\"3\\\">id:\\u00a0123e4567-e89b-12d3-a456-426614174000</td></tr></table></div>\"\n  },\n  \"identifier\" : [\n    {\n      \"system\" : \"https://fhir.ee/sid/pid/est/npi\",\n      \"value\" : \"60712121111\"\n    },\n    {\n      \"system\" : \"https://fhir.ee/sid/pid/est/prn/90006399\",\n      \"value\" : \"123e4567-e89b-12d3-a456-426614174000\"\n    }\n  ],\n  \"active\" : false,\n  \"gender\" : \"female\",\n  \"birthDate\" : \"2007-12-12\",\n  \"_birthDate\" : {\n    \"extension\" : [\n      {\n        \"url\" : \"http://hl7.org/fhir/StructureDefinition/patient-birthTime\",\n        \"valueDateTime\" : \"2007-12-12T16:00:00.000Z\"\n      }\n    ]\n  },\n  \"deceasedDateTime\" : \"2007-12-12T16:00:00.000Z\",\n  \"multipleBirthInteger\" : 1\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{HOST}}/Patient",
							"host": [
								"{{HOST}}"
							],
							"path": [
								"Patient"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "2. RelatedPerson",
			"item": [
				{
					"name": "2.1 Create RelatedPerson",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"pm.environment.set(\"FAKE_EST_ID\", _.random(30000000000, 600000000000))"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"resourceType\": \"RelatedPerson\",\n    \"meta\": {\n        \"profile\": [\n            \"https://fhir.ee/StructureDefinition/ee-mpi-related-person\"\n        ]\n    },\n    \"text\": {\n        \"status\": \"generated\",\n        \"div\": \"<div xmlns=\\\"http://www.w3.org/1999/xhtml\\\">text</div>\"\n    },\n    \"identifier\": [\n        {\n            \"system\": \"https://fhir.ee/sid/pid/est/ni\",\n            \"value\": \"{{FAKE_EST_ID}}\"\n        }\n    ],\n    \"active\": true,\n    \"patient\": {\n        \"reference\": \"Patient/1\"\n    },\n    \"relationship\": [\n        {\n            \"coding\": [\n                {\n                    \"system\": \"http://terminology.hl7.org/CodeSystem/v3-RoleClass\",\n                    \"code\": \"NOK\"\n                }\n            ]\n        },\n        {\n            \"coding\": [\n                {\n                    \"system\": \"http://snomed.info/sct\",\n                    \"code\": \"72705000\",\n                    \"display\": \"Mother (person)\"\n                }\n            ]\n        }\n    ],\n    \"name\": [\n        {\n            \"family\": \"du March챕\",\n            \"given\": [\n                \"B챕n챕dicte\"\n            ]\n        }\n    ],\n    \"telecom\": [\n        {\n            \"system\": \"phone\",\n            \"value\": \"+37256218121\"\n        }\n    ],\n    \"period\": {\n        \"start\": \"2012\"\n    }\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{HOST}}/RelatedPerson",
							"host": [
								"{{HOST}}"
							],
							"path": [
								"RelatedPerson"
							]
						}
					},
					"response": []
				},
				{
					"name": "2.2 Load RelatedPerson",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{HOST}}/RelatedPerson/5",
							"host": [
								"{{HOST}}"
							],
							"path": [
								"RelatedPerson",
								"5"
							]
						}
					},
					"response": []
				},
				{
					"name": "2.3 Update RelatedPerson",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"pm.environment.set(\"FAKE_EST_ID\", _.random(30000000000, 600000000000))"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "PUT",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"resourceType\": \"RelatedPerson\",\n    \"meta\": {\n        \"profile\": [\n            \"https://fhir.ee/StructureDefinition/ee-mpi-related-person\"\n        ]\n    },\n    \"text\": {\n        \"status\": \"generated\",\n        \"div\": \"<div xmlns=\\\"http://www.w3.org/1999/xhtml\\\">text</div>\"\n    },\n    \"identifier\": [\n        {\n            \"system\": \"https://fhir.ee/sid/pid/est/ni\",\n            \"value\": \"270468793787\"\n        }\n    ],\n    \"active\": true,\n    \"patient\": {\n        \"reference\": \"Patient/1\"\n    },\n    \"relationship\": [\n        {\n            \"coding\": [\n                {\n                    \"system\": \"http://terminology.hl7.org/CodeSystem/v3-RoleClass\",\n                    \"code\": \"CON\"\n                }\n            ]\n        },\n        {\n            \"coding\": [\n                {\n                    \"system\": \"http://terminology.hl7.org/CodeSystem/v3-RoleClass\",\n                    \"code\": \"NOK\"\n                }\n            ]\n        },\n        {\n            \"coding\": [\n                {\n                    \"system\": \"http://snomed.info/sct\",\n                    \"code\": \"72705000\",\n                    \"display\": \"Mother (person)\"\n                }\n            ]\n        }\n    ],\n    \"name\": [\n        {\n            \"family\": \"du March챕\",\n            \"_family\": {\n                \"extension\": [\n                    {\n                        \"url\": \"http://hl7.org/fhir/StructureDefinition/humanname-own-prefix\",\n                        \"valueString\": \"VV\"\n                    }\n                ]\n            },\n            \"given\": [\n                \"B챕n챕dicte\"\n            ]\n        }\n    ],\n    \"telecom\": [\n        {\n            \"system\": \"phone\",\n            \"value\": \"+37256218121\"\n        }\n    ],\n    \"period\": {\n        \"start\": \"2012\"\n    }\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{HOST}}/RelatedPerson/3",
							"host": [
								"{{HOST}}"
							],
							"path": [
								"RelatedPerson",
								"3"
							]
						}
					},
					"response": []
				},
				{
					"name": "2.4 Search RelatePerson",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{HOST}}/RelatedPerson?patient=Patient/1",
							"host": [
								"{{HOST}}"
							],
							"path": [
								"RelatedPerson"
							],
							"query": [
								{
									"key": "patient",
									"value": "Patient/1"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "2.5 RelatedPerson history",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{HOST}}/RelatedPerson/3/_history",
							"host": [
								"{{HOST}}"
							],
							"path": [
								"RelatedPerson",
								"3",
								"_history"
							]
						}
					},
					"response": []
				},
				{
					"name": "2.6 Delete RelatedPerson",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"pm.environment.set(\"FAKE_EST_ID\", _.random(30000000000, 600000000000))"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "DELETE",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{HOST}}/RelatedPerson/3",
							"host": [
								"{{HOST}}"
							],
							"path": [
								"RelatedPerson",
								"3"
							]
						}
					},
					"response": []
				},
				{
					"name": "2.7 Create Bundle Patient + RelatedPerson",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"pm.environment.set(\"FAKE_EST_ID\", _.random(30000000000, 600000000000))",
									"pm.environment.set(\"FAKE_EST_ID_2\", _.random(30000000000, 600000000000))"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"resourceType\": \"Bundle\",\n    \"id\": \"bundle-transaction\",\n    \"meta\": {\n        \"lastUpdated\": \"2014-08-18T01:43:30Z\"\n    },\n    \"type\": \"transaction\",\n    \"entry\": [\n        {\n            \"fullUrl\": \"urn:le_patiente\",\n            \"resource\": {\n                \"resourceType\": \"Patient\",\n                \"meta\": {\n                    \"profile\": [\n                        \"https://fhir.ee/StructureDefinition/ee-mpi-patient-verified\"\n                    ]\n                },\n                \"text\": {\n                    \"status\": \"generated\",\n                    \"div\": \"<div xmlns=\\\"http://www.w3.org/1999/xhtml\\\">text</div>\"\n                },\n                \"identifier\": [\n                    {\n                        \"system\": \"https://fhir.ee/sid/pid/est/ni\",\n                        \"value\": \"44609166050\"\n                    }\n                ],\n                \"active\": true,\n                \"name\": [\n                    {\n                        \"use\": \"official\",\n                        \"family\": \"V천sa체lane\",\n                        \"given\": [\n                            \"Tiit\"\n                        ]\n                    }\n                ],\n                \"telecom\": [\n                    {\n                        \"system\": \"phone\",\n                        \"value\": \"+37253535353\",\n                        \"use\": \"work\",\n                        \"rank\": 1\n                    }\n                ],\n                \"gender\": \"male\",\n                \"birthDate\": \"1974-12-25\",\n                \"_birthDate\": {\n                    \"extension\": [\n                        {\n                            \"url\": \"http://hl7.org/fhir/StructureDefinition/patient-birthTime\",\n                            \"valueDateTime\": \"1974-12-25T14:35:45-05:00\"\n                        }\n                    ]\n                },\n                \"deceasedDateTime\": \"2003-12-25T14:35:45-05:00\",\n                \"address\": [\n                    {\n                        \"extension\": [\n                            {\n                                \"url\": \"https://fhir.ee/StructureDefinition/ee-ads\",\n                                \"valueCoding\": {\n                                    \"system\": \"https://fhir.ee/CodeSystem/ee-ads\",\n                                    \"code\": \"111122\"\n                                }\n                            },\n                            {\n                                \"url\": \"https://fhir.ee/StructureDefinition/ee-ehak\",\n                                \"valueCoding\": {\n                                    \"system\": \"https://fhir.ee/sid/ehak\",\n                                    \"code\": \"100300\"\n                                }\n                            }\n                        ],\n                        \"country\": \"US\",\n                        \"use\": \"home\",\n                        \"type\": \"both\",\n                        \"text\": \"534 Erewhon St PeasantVille, Rainbow, Vic  3999\",\n                        \"line\": [\n                            \"534 Erewhon St\"\n                        ],\n                        \"_line\": [\n                            {\n                                \"extension\": [\n                                    {\n                                        \"url\": \"http://hl7.org/fhir/StructureDefinition/iso21090-ADXP-streetName\",\n                                        \"valueString\": \"Erewhon St\"\n                                    },\n                                    {\n                                        \"url\": \"http://hl7.org/fhir/StructureDefinition/iso21090-ADXP-houseNumber\",\n                                        \"valueString\": \"534\"\n                                    },\n                                    {\n                                        \"url\": \"http://hl7.org/fhir/StructureDefinition/iso21090-ADXP-additionalLocator\",\n                                        \"valueString\": \"110\"\n                                    }\n                                ]\n                            }\n                        ],\n                        \"city\": \"PleasantVille\",\n                        \"district\": \"Rainbow\",\n                        \"state\": \"Vic\",\n                        \"postalCode\": \"3999\",\n                        \"period\": {\n                            \"start\": \"1974-12-25\"\n                        }\n                    }\n                ]\n            },\n            \"request\": {\n                \"method\": \"POST\",\n                \"url\": \"Patient\"\n            }\n        },\n        {\n            \"resource\": {\n                \"resourceType\": \"RelatedPerson\",\n                \"meta\": {\n                    \"profile\": [\n                        \"https://fhir.ee/StructureDefinition/ee-mpi-related-person\"\n                    ]\n                },\n                \"text\": {\n                    \"status\": \"generated\",\n                    \"div\": \"<div xmlns=\\\"http://www.w3.org/1999/xhtml\\\">text</div>\"\n                },\n                \"identifier\": [\n                    {\n                        \"system\": \"https://fhir.ee/sid/pid/est/ni\",\n                        \"value\": \"34012184271\"\n                    }\n                ],\n                \"active\": true,\n                \"patient\": {\n                    \"reference\": \"urn:le_patiente\"\n                },\n                \"relationship\": [\n                    {\n                        \"coding\": [\n                            {\n                                \"system\": \"http://terminology.hl7.org/CodeSystem/v3-RoleClass\",\n                                \"code\": \"NOK\"\n                            }\n                        ]\n                    },\n                    {\n                        \"coding\": [\n                            {\n                                \"system\": \"http://snomed.info/sct\",\n                                \"code\": \"72705000\",\n                                \"display\": \"Mother (person)\"\n                            }\n                        ]\n                    }\n                ],\n                \"name\": [\n                    {\n                        \"family\": \"du March챕\",\n                        \"_family\": {\n                            \"extension\": [\n                                {\n                                    \"url\": \"http://hl7.org/fhir/StructureDefinition/humanname-own-prefix\",\n                                    \"valueString\": \"VV\"\n                                }\n                            ]\n                        },\n                        \"given\": [\n                            \"B챕n챕dicte\"\n                        ]\n                    }\n                ],\n                \"telecom\": [\n                    {\n                        \"system\": \"phone\",\n                        \"value\": \"+37256218121\"\n                    }\n                ],\n                \"period\": {\n                    \"start\": \"2012\"\n                }\n            },\n            \"request\": {\n                \"method\": \"POST\",\n                \"url\": \"RelatedPerson\"\n            }\n        }\n    ]\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{HOST}}/",
							"host": [
								"{{HOST}}"
							],
							"path": [
								""
							]
						}
					},
					"response": []
				},
				{
					"name": "2.8 Update Bundle Patient + RelatedPerson",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"pm.environment.set(\"FAKE_EST_ID\", _.random(30000000000, 600000000000))",
									"pm.environment.set(\"FAKE_EST_ID_2\", _.random(30000000000, 600000000000))"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"resourceType\": \"Bundle\",\n    \"id\": \"bundle-transaction\",\n    \"meta\": {\n        \"lastUpdated\": \"2014-08-18T01:43:30Z\"\n    },\n    \"type\": \"transaction\",\n    \"entry\": [\n        {\n            \"fullUrl\": \"urn:le_patiente\",\n            \"resource\": {\n                \"resourceType\": \"Patient\",\n                \"meta\": {\n                    \"profile\": [\n                        \"https://fhir.ee/StructureDefinition/ee-mpi-patient-verified\"\n                    ]\n                },\n                \"text\": {\n                    \"status\": \"generated\",\n                    \"div\": \"<div xmlns=\\\"http://www.w3.org/1999/xhtml\\\">text</div>\"\n                },\n                \"identifier\": [\n                    {\n                        \"system\": \"https://fhir.ee/sid/pid/est/ni\",\n                        \"value\": \"44609166050\"\n                    }\n                ],\n                \"active\": true,\n                \"name\": [\n                    {\n                        \"use\": \"official\",\n                        \"family\": \"V천sa체lane\",\n                        \"given\": [\n                            \"Tiit\"\n                        ]\n                    }\n                ],\n                \"telecom\": [\n                    {\n                        \"system\": \"phone\",\n                        \"value\": \"+37253535353\",\n                        \"use\": \"work\",\n                        \"rank\": 1\n                    }\n                ],\n                \"gender\": \"male\",\n                \"birthDate\": \"1974-12-25\",\n                \"_birthDate\": {\n                    \"extension\": [\n                        {\n                            \"url\": \"http://hl7.org/fhir/StructureDefinition/patient-birthTime\",\n                            \"valueDateTime\": \"1974-12-25T14:35:45-05:00\"\n                        }\n                    ]\n                },\n                \"deceasedDateTime\": \"2003-12-25T14:35:45-05:00\",\n                \"address\": [\n                    {\n                        \"extension\": [\n                            {\n                                \"url\": \"https://fhir.ee/StructureDefinition/ee-ads\",\n                                \"valueCoding\": {\n                                    \"system\": \"https://fhir.ee/CodeSystem/ee-ads\",\n                                    \"code\": \"111122\"\n                                }\n                            },\n                            {\n                                \"url\": \"https://fhir.ee/StructureDefinition/ee-ehak\",\n                                \"valueCoding\": {\n                                    \"system\": \"https://fhir.ee/sid/ehak\",\n                                    \"code\": \"100300\"\n                                }\n                            }\n                        ],\n                        \"country\": \"US\",\n                        \"use\": \"home\",\n                        \"type\": \"both\",\n                        \"text\": \"534 Erewhon St PeasantVille, Rainbow, Vic  3999\",\n                        \"line\": [\n                            \"534 Erewhon St\"\n                        ],\n                        \"_line\": [\n                            {\n                                \"extension\": [\n                                    {\n                                        \"url\": \"http://hl7.org/fhir/StructureDefinition/iso21090-ADXP-streetName\",\n                                        \"valueString\": \"Erewhon St\"\n                                    },\n                                    {\n                                        \"url\": \"http://hl7.org/fhir/StructureDefinition/iso21090-ADXP-houseNumber\",\n                                        \"valueString\": \"534\"\n                                    },\n                                    {\n                                        \"url\": \"http://hl7.org/fhir/StructureDefinition/iso21090-ADXP-additionalLocator\",\n                                        \"valueString\": \"110\"\n                                    }\n                                ]\n                            }\n                        ],\n                        \"city\": \"PleasantVille\",\n                        \"district\": \"Rainbow\",\n                        \"state\": \"Vic\",\n                        \"postalCode\": \"3999\",\n                        \"period\": {\n                            \"start\": \"1974-12-25\"\n                        }\n                    }\n                ]\n            },\n            \"request\": {\n                \"method\": \"PUT\",\n                \"url\": \"Patient?identifier=https%3A%2F%2Ffhir.ee%2Fsid%2Fpid%2Fest%2Fni%7C44609166050\"\n            }\n        },\n        {\n            \"resource\": {\n                \"resourceType\": \"RelatedPerson\",\n                \"meta\": {\n                    \"profile\": [\n                        \"https://fhir.ee/StructureDefinition/ee-mpi-related-person\"\n                    ]\n                },\n                \"text\": {\n                    \"status\": \"generated\",\n                    \"div\": \"<div xmlns=\\\"http://www.w3.org/1999/xhtml\\\">text</div>\"\n                },\n                \"identifier\": [\n                    {\n                        \"system\": \"https://fhir.ee/sid/pid/est/ni\",\n                        \"value\": \"34012184271\"\n                    }\n                ],\n                \"active\": true,\n                \"patient\": {\n                    \"reference\": \"urn:le_patiente\"\n                },\n                \"relationship\": [\n                    {\n                        \"coding\": [\n                            {\n                                \"system\": \"http://terminology.hl7.org/CodeSystem/v3-RoleClass\",\n                                \"code\": \"NOK\"\n                            }\n                        ]\n                    },\n                    {\n                        \"coding\": [\n                            {\n                                \"system\": \"http://snomed.info/sct\",\n                                \"code\": \"72705000\",\n                                \"display\": \"Mother (person)\"\n                            }\n                        ]\n                    }\n                ],\n                \"name\": [\n                    {\n                        \"family\": \"du March챕\",\n                        \"_family\": {\n                            \"extension\": [\n                                {\n                                    \"url\": \"http://hl7.org/fhir/StructureDefinition/humanname-own-prefix\",\n                                    \"valueString\": \"VV\"\n                                }\n                            ]\n                        },\n                        \"given\": [\n                            \"B챕n챕dicte\"\n                        ]\n                    }\n                ],\n                \"telecom\": [\n                    {\n                        \"system\": \"phone\",\n                        \"value\": \"+37256218121\"\n                    }\n                ],\n                \"period\": {\n                    \"start\": \"2012\"\n                }\n            },\n            \"request\": {\n                \"method\": \"PUT\",\n                \"url\": \"RelatedPerson?identifier=https%3A%2F%2Ffhir.ee%2Fsid%2Fpid%2Fest%2Fni%7C34012184271\"\n            }\n        }\n    ]\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{HOST}}/",
							"host": [
								"{{HOST}}"
							],
							"path": [
								""
							],
							"query": [
								{
									"key": null,
									"value": "",
									"disabled": true
								}
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "3. Observation",
			"item": [
				{
					"name": "3.1 Create Observation",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"pm.environment.set(\"FAKE_EST_ID\", _.random(30000000000, 600000000000))"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"resourceType\": \"Observation\",\n    \"status\": \"final\",\n    \"meta\": {\n        \"profile\": [\n            \"https://fhir.ee/StructureDefinition/ee-mpi-socialhistory-marital-status\"\n        ]\n    },\n    \"category\": [\n        {\n            \"coding\": [\n                {\n                    \"system\": \"http://terminology.hl7.org/CodeSystem/observation-category\",\n                    \"code\": \"social-history\",\n                    \"display\": \"Social history\"\n                }\n            ]\n        }\n    ],\n    \"code\": {\n        \"coding\": [\n            {\n                \"system\": \"http://snomed.info/sct\",\n                \"code\": \"125680007\",\n                \"display\": \"Marital status\"\n            }\n        ]\n    },\n    \"subject\": {\n        \"reference\": \"Patient/1\"\n    },\n    \"issued\": \"2013-04-03T15:30:10+01:00\",\n    \"performer\": [\n        {\n            \"reference\": \"RelatedPerson/5\"\n        }\n    ],\n    \"valueCodeableConcept\": {\n        \"coding\": [\n            {\n                \"system\": \"http://terminology.hl7.org/CodeSystem/v3-MaritalStatus\",\n                \"code\": \"M\",\n                \"display\": \"Married\"\n            }\n        ]\n    }\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{HOST}}/Observation",
							"host": [
								"{{HOST}}"
							],
							"path": [
								"Observation"
							]
						}
					},
					"response": []
				},
				{
					"name": "3.2 Load Observation",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "x-road-userid",
								"value": "EE38912072255",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{HOST}}/Observation/13",
							"host": [
								"{{HOST}}"
							],
							"path": [
								"Observation",
								"13"
							]
						}
					},
					"response": []
				},
				{
					"name": "3.3 Update Observation",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"pm.environment.set(\"FAKE_EST_ID\", _.random(30000000000, 600000000000))"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "PUT",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"resourceType\": \"Observation\",\n    \"status\": \"final\",\n    \"meta\": {\n        \"profile\": [\n            \"https://fhir.ee/StructureDefinition/ee-mpi-socialhistory-marital-status\"\n        ]\n    },\n    \"category\": [\n        {\n            \"coding\": [\n                {\n                    \"system\": \"http://terminology.hl7.org/CodeSystem/observation-category\",\n                    \"code\": \"social-history\",\n                    \"display\": \"Social history\"\n                }\n            ]\n        }\n    ],\n    \"code\": {\n        \"coding\": [\n            {\n                \"system\": \"http://snomed.info/sct\",\n                \"code\": \"125680007\",\n                \"display\": \"Marital status\"\n            }\n        ]\n    },\n    \"subject\": {\n        \"reference\": \"Patient/1\"\n    },\n    \"issued\": \"2013-04-03T15:30:10+01:00\",\n    \"performer\": [\n        {\n            \"reference\": \"RelatedPerson/5\"\n        }\n    ],\n    \"valueCodeableConcept\": {\n        \"coding\": [\n            {\n                \"system\": \"http://terminology.hl7.org/CodeSystem/v3-MaritalStatus\",\n                \"code\": \"D\",\n                \"display\": \"Divorced\"\n            }\n        ]\n    }\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{HOST}}/Observation/13",
							"host": [
								"{{HOST}}"
							],
							"path": [
								"Observation",
								"13"
							]
						}
					},
					"response": []
				},
				{
					"name": "3.4 Search Observations",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "x-road-userid",
								"value": "EE38912072255",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{HOST}}/Observation?patient=Patient/1",
							"host": [
								"{{HOST}}"
							],
							"path": [
								"Observation"
							],
							"query": [
								{
									"key": "patient",
									"value": "Patient/1"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "3.5 Legal guardian operation",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "x-road-userid",
								"value": "EE38912072255",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{HOST}}/Patient/$legal-guardian?patient=Patient/1",
							"host": [
								"{{HOST}}"
							],
							"path": [
								"Patient",
								"$legal-guardian"
							],
							"query": [
								{
									"key": "patient",
									"value": "Patient/1"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "3.6 Power of attorney operation",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "x-road-userid",
								"value": "EE38912072255",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{HOST}}/Patient/$power-of-attorney?patient=Patient/840",
							"host": [
								"{{HOST}}"
							],
							"path": [
								"Patient",
								"$power-of-attorney"
							],
							"query": [
								{
									"key": "patient",
									"value": "Patient/840"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "3.7 Education operation",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "x-road-userid",
								"value": "EE38912072255",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{HOST}}/Patient/$education?patient=Patient/20",
							"host": [
								"{{HOST}}"
							],
							"path": [
								"Patient",
								"$education"
							],
							"query": [
								{
									"key": "patient",
									"value": "Patient/20"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "3.8 Disability level operation",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "x-road-userid",
								"value": "EE38912072255",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{HOST}}/Patient/$disability?patient=Patient/1",
							"host": [
								"{{HOST}}"
							],
							"path": [
								"Patient",
								"$disability"
							],
							"query": [
								{
									"key": "patient",
									"value": "Patient/1"
								}
							]
						}
					},
					"response": []
				}
			]
		}
	],
	"event": [
		{
			"listen": "prerequest",
			"script": {
				"type": "text/javascript",
				"exec": [
					"pm.request.headers.add({key: \"X-Author-Org-Id-Oid\", value: pm.variables.get(\"AUTHOR_ORG_OID\")});",
					"pm.request.headers.add({key: \"X-Author-Org-Id\", value: pm.variables.get(\"AUTHOR_ORG_ID\")});",
					"pm.request.headers.add({key: \"X-Author-Id\", value: pm.variables.get(\"AUTHOR_ID\")});",
					"pm.request.headers.add({key: \"X-Author-Id-Oid\", value: pm.variables.get(\"AUTHOR_OID\")});",
					"pm.request.headers.add({key: \"X-Author-Role\", value: pm.variables.get(\"AUTHOR_ROLE\")});",
					"if(pm.variables.has(\"X_ROAD_ISSUE\") && pm.variables.get(\"X_ROAD_ISSUE\") !== ''){",
					"    pm.request.headers.add({key: \"X-Road-Issue\", value: pm.variables.get(\"X_ROAD_ISSUE\")});",
					"}",
					"if(pm.variables.has(\"X_ROAD_CLIENT\") && pm.variables.get(\"X_ROAD_CLIENT\") !== ''){",
					"    pm.request.headers.add({key: \"X-road-client\", value: pm.variables.get(\"X_ROAD_CLIENT\")});",
					"}"
				]
			}
		},
		{
			"listen": "test",
			"script": {
				"type": "text/javascript",
				"exec": [
					""
				]
			}
		}
	],
	"variable": [
		{
			"key": "HOST",
			"value": "https://tis.dev.tehik.ee/mpi/fhir",
			"type": "string"
		},
		{
			"key": "AUTHOR_ORG_OID",
			"value": "1.3.6.1.4.1.28284.4",
			"type": "string"
		},
		{
			"key": "AUTHOR_ORG_ID",
			"value": "90006399",
			"type": "string"
		},
		{
			"key": "AUTHOR_OID",
			"value": "1.3.6.1.4.1.28284.6.2.2.1",
			"type": "string"
		},
		{
			"key": "AUTHOR_ID",
			"value": "38912072255",
			"type": "string"
		},
		{
			"key": "AUTHOR_ROLE",
			"value": "doctor",
			"type": "string"
		},
		{
			"key": "X_ROAD_ISSUE",
			"value": "v채ga vaja",
			"type": "string"
		}
	]
}